# Отладка

Для отладки применяется стандартный отладчик OneScript для Visual Studio Code.

## Подготовка

Если у вас уже установлены VS Code, плагин языка 1С и отладчик OneScript, пропустите раздел "Подготовка".

### Установка Visual Studio Code и плагинов

Скачайте среду разработки с [сайта производителя](https://code.visualstudio.com/download) и установите. Затем, запустите и нажмите в ней `Ctrl+Shift+X` чтобы перейти к окну установки расширений.

Вам потребуется установить 2 расширения: поддержку языка 1С и отладчик OneScript. В окне поиска наберите bsl и установите расширения, показанные на картинке.

![](/images/vscode-plugins.png)

### Создание папки с решением

Для начала нам понадобится место, где мы будем писать наш проект. Ознакомьтесь с разделом [Новый проект](/learn/new-project), чтобы его подготовить.

## Конфигурация запуска

Для отладки нам потребуется `конфигурация запуска`. Конфигураций запуска может быть несколько, вы сами создаете варианты запуска с разными параметрами командной строки, с разными переменными окружения и т.п.

Запустите отладку и выберите пункт `Отладка 1Script`. IDE создаст файл `.vscode/launch.json` и откроет его в редакторе. Если что-то не сработает (а такое бывает), создайте в корне вашего проекта каталог `.vscode` (обратите внимание на точку в имени) и в нем файл `launch.json`, откройте его.

![](/images/vscode-launch.png)

В файле launch.json можно задать несколько так называемых "профилей" отладки - наборов комбинаций параметров, под которым будет запускаться отлаживаемое приложение.

Каждый профиль отладки представляет собой настройку запуска отлаживаемого приложения, его аргументы командной строки и версию интерпретатора 1script, которая будет выполнять приложение.

Подробное описание каждого параметра выводится при наведении мышки на опцию в файле launch.json.

```json
{
    "name": "Отладка 1Script",
    "type": "oscript",
    "request": "launch",
    "cwd": "${workspaceRoot}/src",
    "program": "my-program.os",
    "args": ["arg1", "arg2"],
    "env": {
        "OSCRIPT_CONFIG": "lib.system=D:/myOsLibraries",
        "JAVA_HOME": "D:/MyJava/JDK_29_Full"
    },
    "debugPort": 2801
}
```

::: warning ВНИМАНИЕ
Если по какой-либо причине на вашей машине занят порт `2801` - укажите в свойстве `debugPort` любой другой свободный порт.
:::

## Старт отладки

После того, как конфигурация запуска выбрана в окне VS Code можно нажать кнопку F5 и среда разработки запустит отладку, согласно настроенной конфигурации.

Если взять пример конфига, приведенный выше, то будет запущен для отладки файл `my-program-os`, рабочим каталогом запущенного процесса будет каталог `${workspaceRoot}/src`, где ${workspaceRoot} это корень папки с проектом.

Далее, в запущенный процесс будут переданы 2 аргумента командной строки: "arg1" и "arg2", при этом процесс получит две переменные окружения OSCRIPT_CONFIG и JAVA_HOME.

Создавая таким образом разные варианты запуска, вы можете отлаживать различные сценарии вашей программы.